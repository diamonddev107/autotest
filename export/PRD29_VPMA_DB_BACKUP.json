{ "VPMA_DB_BACKUP" : { "Type" : "Folder", "ControlmServer" : "PRD29", "OrderMethod" : "Manual", "ActiveRetentionPolicy" : "CleanEndedOK", "SubApplication" : "DB_BACKUP", "CreatedBy" : "qd1", "Priority" : "Very Low", "Application" : "VPMA", "When" : { "FromTime" : "0100", "RuleBasedCalendars" : { "Included" : [ "EVERYDAY" ], "EVERYDAY" : { "Type" : "Calendar:RuleBased", "When" : { "DaysRelation" : "OR", "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ] } } } }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "VPMA_DB_ACCESS" : { "Type" : "Resource:Lock", "LockType" : "Exclusive" }, "VPMA_DB_Backup_Customer" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_customer\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Customer-OK" } ] } }, "VPMA_DB_Backup_Expense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_expense\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Timesheet-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Expense-OK" } ] } }, "VPMA_DB_Backup_InvoiceExpense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_expense\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpense-OK" } ] } }, "VPMA_DB_Backup_InvoiceLabour" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_labour\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpenseAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabour-OK" } ] } }, "VPMA_DB_Backup_InvoiceLicense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_license\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabourAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicense-OK" } ] } }, "VPMA_DB_Backup_Loan" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_loan\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Expense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Loan-OK" } ] } }, "VPMA_DB_Backup_Project" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_project\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Customer-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Project-OK" } ] } }, "VPMA_DB_Backup_Timesheet" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_timesheet\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Staff-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Timesheet-OK" } ] } }, "VPMA_DB_Backup_InvoiceLabourAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_labour_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabour-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabourAu-OK" } ] } }, "VPMA_DB_Backup_InvoiceLicenseAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_license_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicenseAu-OK" } ] } }, "VPMA_DB_Backup_Staff" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_staff\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Staff-OK" } ] } }, "VPMA_DB_Backup_StateSalesTax" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_state_sales_tax\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_StateSalesTax-OK" } ] } }, "VPMA_DB_Backup_PaymnetExpenseUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_expense_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetExpenseUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetPayoutUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_payout_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetExpenseUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetPayoutUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetSalaryUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_salary_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetSalaryAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_salary_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetPayoutUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryAu-OK" } ] } }, "VPMA_DB_Backup_PaymnetSupplierUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_supplier_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSupplierUs-OK" } ] } }, "VPMA_DB_Backup_BIM" : { "Type" : "Job:SLAManagement", "ServiceActions" : { "If:SLA:JobFailureOnServicePath_0" : { "Type" : "If:SLA:JobFailureOnServicePath", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains failed job(s). The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:ServiceIsLate_1" : { "Type" : "If:SLA:ServiceIsLate", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "Service %%SERVICE_NAME is running late. The service deadline is %%SERVICE_DUE_TIME but it is estimated to complete at %%SERVICE_EXPECTED_END_TIME. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:JobRanTooLong_2" : { "Type" : "If:SLA:JobRanTooLong", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains a job(s) that ran too long. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:JobFinishedTooQuickly_3" : { "Type" : "If:SLA:JobFinishedTooQuickly", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains a job(s) that ended too quickly. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } } }, "ServiceName" : "PROD - VPMA Internal DB Daily Backup", "ServicePriority" : "3", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "JobRunsDeviationsTolerance" : "3", "CreatedBy" : "ctmem", "RunAs" : "DUMMYUSR", "Application" : "VPMA", "CompleteBy" : { "Time" : "05:00", "Days" : "0" }, "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Delete-OK" } ] } }, "VPMA_DB_Backup_Start" : { "Type" : "Job:Dummy", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "ctmem", "RunAs" : "DUMMYUSR", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] } }, "VPMA_DB_Backup_InvoiceExpenseAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_expense_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpenseAu-OK" } ] } }, "VPMA_DB_Backup_DashboardDexiaEodDaily" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_dexia_eod_daily\\n;", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardDexiaEodDaily-OK" } ] } }, "VPMA_DB_Backup_DashboardFerrellgasIncidents" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_ferrellgas_incidents\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardDexiaEodDaily-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasIncidents-OK" } ] } }, "VPMA_DB_Backup_DashboardFerrellgasRequests" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_ferrellgas_requests\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasIncidents-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasRequests-OK" } ] } }, "VPMA_DB_Backup_AdminDB_Tar" : { "Type" : "Job:Command", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "vpmadmin", "Application" : "VPMA", "Command" : "tar -czvf /app/vpmadmin/backup/database/vpma_internal/admindb/VPMA_DB_Backup_AdminDB_%%ODATE..tar /app/vpmadmin/backup/database/vpma_internal/admindb/*.csv", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Project-OK" }, { "Event" : "VPMA_DB_Backup_InvoiceLicenseAu-OK" }, { "Event" : "VPMA_DB_Backup_PaymnetSupplierUs-OK" }, { "Event" : "VPMA_DB_Backup_Loan-OK" }, { "Event" : "VPMA_DB_Backup_StateSalesTax-OK" }, { "Event" : "VPMA_DB_Backup_DashboardFerrellgasRequests-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Tar-OK" } ] } }, "VPMA_DB_Backup_AdminDB_Delete" : { "Type" : "Job:Command", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "vpmadmin", "Application" : "VPMA", "Command" : "rm -f /app/vpmadmin/backup/database/vpma_internal/admindb/VPMA_DB_Backup_*", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_FTP-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Delete-OK" } ] } }, "VPMA_DB_Backup_AdminDB_FTP" : { "Type" : "Job:FileTransfer", "ConnectionProfileSrc" : "VPMADMIN_LOCAL", "ConnectionProfileDest" : "VPMA_BACKUP", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMADMIN_LOCAL+VPMA_BACKUP", "Application" : "VPMA", "Variables" : [ { "FTP-LOSTYPE" : "Unix" }, { "FTP-CONNTYPE1" : "LOCAL" }, { "FTP-LHOST" : "Local" }, { "FTP-LUSER" : "vpmadmin" }, { "FTP-ROSTYPE" : "Unix" }, { "FTP-CONNTYPE2" : "FTP-SSL" }, { "FTP-RHOST" : "vpmagroup.com" }, { "FTP-RUSER" : "vpmadmin_backup@vpmagroup.com" }, { "FTP-TIMELIMIT_UNIT1" : "1" }, { "FTP-CM_VER" : "9.0.18" } ], "FileTransfers" : [ { "TransferType" : "Binary", "TransferOption" : "SrcToDest", "Src" : "/app/vpmadmin/backup/database/vpma_internal/admindb/*.tar", "Dest" : "/vpma_internal/database/", "TIMELIMIT" : "0", "ABSTIME" : "0", "SRCOPT" : "0", "IF_EXIST" : "0", "DSTOPT" : "0", "UNIQUE" : "0", "RECURSIVE" : "0", "TRIM" : "1", "NULLFLDS" : "0", "VERNUM" : "0", "EXCLUDE_WILDCARD" : "0", "CASEIFS" : "0" } ], "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Tar-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_FTP-OK" } ] } }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DATABASE_Backup__EOD-OK" } ] } } }{ "VPMA_DB_BACKUP" : { "Type" : "Folder", "ControlmServer" : "PRD29", "OrderMethod" : "Manual", "ActiveRetentionPolicy" : "CleanEndedOK", "SubApplication" : "DB_BACKUP", "CreatedBy" : "qd1", "Priority" : "Very Low", "Application" : "VPMA", "When" : { "FromTime" : "0100", "RuleBasedCalendars" : { "Included" : [ "EVERYDAY" ], "EVERYDAY" : { "Type" : "Calendar:RuleBased", "When" : { "DaysRelation" : "OR", "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ] } } } }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "VPMA_DB_ACCESS" : { "Type" : "Resource:Lock", "LockType" : "Exclusive" }, "VPMA_DB_Backup_Customer" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_customer\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Customer-OK" } ] } }, "VPMA_DB_Backup_Expense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_expense\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Timesheet-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Expense-OK" } ] } }, "VPMA_DB_Backup_InvoiceExpense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_expense\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpense-OK" } ] } }, "VPMA_DB_Backup_InvoiceLabour" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_labour\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpenseAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabour-OK" } ] } }, "VPMA_DB_Backup_InvoiceLicense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_license\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabourAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicense-OK" } ] } }, "VPMA_DB_Backup_Loan" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_loan\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Expense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Loan-OK" } ] } }, "VPMA_DB_Backup_Project" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_project\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Customer-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Project-OK" } ] } }, "VPMA_DB_Backup_Timesheet" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_timesheet\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Staff-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Timesheet-OK" } ] } }, "VPMA_DB_Backup_InvoiceLabourAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_labour_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabour-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabourAu-OK" } ] } }, "VPMA_DB_Backup_InvoiceLicenseAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_license_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicenseAu-OK" } ] } }, "VPMA_DB_Backup_Staff" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_staff\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Staff-OK" } ] } }, "VPMA_DB_Backup_StateSalesTax" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_state_sales_tax\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_StateSalesTax-OK" } ] } }, "VPMA_DB_Backup_PaymnetExpenseUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_expense_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetExpenseUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetPayoutUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_payout_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetExpenseUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetPayoutUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetSalaryUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_salary_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetSalaryAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_salary_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetPayoutUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryAu-OK" } ] } }, "VPMA_DB_Backup_PaymnetSupplierUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_supplier_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSupplierUs-OK" } ] } }, "VPMA_DB_Backup_BIM" : { "Type" : "Job:SLAManagement", "ServiceActions" : { "If:SLA:JobFailureOnServicePath_0" : { "Type" : "If:SLA:JobFailureOnServicePath", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains failed job(s). The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:ServiceIsLate_1" : { "Type" : "If:SLA:ServiceIsLate", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "Service %%SERVICE_NAME is running late. The service deadline is %%SERVICE_DUE_TIME but it is estimated to complete at %%SERVICE_EXPECTED_END_TIME. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:JobRanTooLong_2" : { "Type" : "If:SLA:JobRanTooLong", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains a job(s) that ran too long. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:JobFinishedTooQuickly_3" : { "Type" : "If:SLA:JobFinishedTooQuickly", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains a job(s) that ended too quickly. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } } }, "ServiceName" : "PROD - VPMA Internal DB Daily Backup", "ServicePriority" : "3", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "JobRunsDeviationsTolerance" : "3", "CreatedBy" : "ctmem", "RunAs" : "DUMMYUSR", "Application" : "VPMA", "CompleteBy" : { "Time" : "05:00", "Days" : "0" }, "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Delete-OK" } ] } }, "VPMA_DB_Backup_Start" : { "Type" : "Job:Dummy", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "ctmem", "RunAs" : "DUMMYUSR", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] } }, "VPMA_DB_Backup_InvoiceExpenseAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_expense_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpenseAu-OK" } ] } }, "VPMA_DB_Backup_DashboardDexiaEodDaily" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_dexia_eod_daily\\n;", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardDexiaEodDaily-OK" } ] } }, "VPMA_DB_Backup_DashboardFerrellgasIncidents" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_ferrellgas_incidents\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardDexiaEodDaily-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasIncidents-OK" } ] } }, "VPMA_DB_Backup_DashboardFerrellgasRequests" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_ferrellgas_requests\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasIncidents-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasRequests-OK" } ] } }, "VPMA_DB_Backup_AdminDB_Tar" : { "Type" : "Job:Command", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "vpmadmin", "Application" : "VPMA", "Command" : "tar -czvf /app/vpmadmin/backup/database/vpma_internal/admindb/VPMA_DB_Backup_AdminDB_%%ODATE..tar /app/vpmadmin/backup/database/vpma_internal/admindb/*.csv", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Project-OK" }, { "Event" : "VPMA_DB_Backup_InvoiceLicenseAu-OK" }, { "Event" : "VPMA_DB_Backup_PaymnetSupplierUs-OK" }, { "Event" : "VPMA_DB_Backup_Loan-OK" }, { "Event" : "VPMA_DB_Backup_StateSalesTax-OK" }, { "Event" : "VPMA_DB_Backup_DashboardFerrellgasRequests-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Tar-OK" } ] } }, "VPMA_DB_Backup_AdminDB_Delete" : { "Type" : "Job:Command", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "vpmadmin", "Application" : "VPMA", "Command" : "rm -f /app/vpmadmin/backup/database/vpma_internal/admindb/VPMA_DB_Backup_*", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_FTP-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Delete-OK" } ] } }, "VPMA_DB_Backup_AdminDB_FTP" : { "Type" : "Job:FileTransfer", "ConnectionProfileSrc" : "VPMADMIN_LOCAL", "ConnectionProfileDest" : "VPMA_BACKUP", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMADMIN_LOCAL+VPMA_BACKUP", "Application" : "VPMA", "Variables" : [ { "FTP-LOSTYPE" : "Unix" }, { "FTP-CONNTYPE1" : "LOCAL" }, { "FTP-LHOST" : "Local" }, { "FTP-LUSER" : "vpmadmin" }, { "FTP-ROSTYPE" : "Unix" }, { "FTP-CONNTYPE2" : "FTP-SSL" }, { "FTP-RHOST" : "vpmagroup.com" }, { "FTP-RUSER" : "vpmadmin_backup@vpmagroup.com" }, { "FTP-TIMELIMIT_UNIT1" : "1" }, { "FTP-CM_VER" : "9.0.18" } ], "FileTransfers" : [ { "ABSTIME" : "0", "VERNUM" : "0", "Dest" : "/vpma_internal/database/", "SRCOPT" : "0", "TransferType" : "Binary", "CASEIFS" : "0", "DSTOPT" : "0", "RECURSIVE" : "0", "TransferOption" : "SrcToDest", "Src" : "/app/vpmadmin/backup/database/vpma_internal/admindb/*.tar", "TIMELIMIT" : "0", "EXCLUDE_WILDCARD" : "0", "NULLFLDS" : "0", "TRIM" : "1", "IF_EXIST" : "0", "UNIQUE" : "0" } ], "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Tar-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_FTP-OK" } ] } }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DATABASE_Backup__EOD-OK" } ] } } }
{ "VPMA_DB_BACKUP" : { "Type" : "Folder", "ControlmServer" : "PRD29", "OrderMethod" : "Manual", "ActiveRetentionPolicy" : "CleanEndedOK", "SubApplication" : "DB_BACKUP", "CreatedBy" : "qd1", "Priority" : "Very Low", "Application" : "VPMA", "When" : { "FromTime" : "0100", "RuleBasedCalendars" : { "Included" : [ "EVERYDAY" ], "EVERYDAY" : { "Type" : "Calendar:RuleBased", "When" : { "DaysRelation" : "OR", "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ] } } } }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "VPMA_DB_ACCESS" : { "Type" : "Resource:Lock", "LockType" : "Exclusive" }, "VPMA_DB_Backup_Customer" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_customer\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Customer-OK" } ] } }, "VPMA_DB_Backup_Expense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_expense\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Timesheet-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Expense-OK" } ] } }, "VPMA_DB_Backup_InvoiceExpense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_expense\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpense-OK" } ] } }, "VPMA_DB_Backup_InvoiceLabour" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_labour\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpenseAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabour-OK" } ] } }, "VPMA_DB_Backup_InvoiceLicense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_license\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabourAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicense-OK" } ] } }, "VPMA_DB_Backup_Loan" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_loan\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Expense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Loan-OK" } ] } }, "VPMA_DB_Backup_Project" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_project\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Customer-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Project-OK" } ] } }, "VPMA_DB_Backup_Timesheet" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_timesheet\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Staff-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Timesheet-OK" } ] } }, "VPMA_DB_Backup_InvoiceLabourAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_labour_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabour-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabourAu-OK" } ] } }, "VPMA_DB_Backup_InvoiceLicenseAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_license_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicenseAu-OK" } ] } }, "VPMA_DB_Backup_Staff" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_staff\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Staff-OK" } ] } }, "VPMA_DB_Backup_StateSalesTax" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_state_sales_tax\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_StateSalesTax-OK" } ] } }, "VPMA_DB_Backup_PaymnetExpenseUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_expense_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetExpenseUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetPayoutUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_payout_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetExpenseUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetPayoutUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetSalaryUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_salary_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetSalaryAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_salary_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetPayoutUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryAu-OK" } ] } }, "VPMA_DB_Backup_PaymnetSupplierUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_supplier_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSupplierUs-OK" } ] } }, "VPMA_DB_Backup_BIM" : { "Type" : "Job:SLAManagement", "ServiceActions" : { "If:SLA:JobFailureOnServicePath_0" : { "Type" : "If:SLA:JobFailureOnServicePath", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains failed job(s). The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:ServiceIsLate_1" : { "Type" : "If:SLA:ServiceIsLate", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "Service %%SERVICE_NAME is running late. The service deadline is %%SERVICE_DUE_TIME but it is estimated to complete at %%SERVICE_EXPECTED_END_TIME. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:JobRanTooLong_2" : { "Type" : "If:SLA:JobRanTooLong", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains a job(s) that ran too long. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:JobFinishedTooQuickly_3" : { "Type" : "If:SLA:JobFinishedTooQuickly", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains a job(s) that ended too quickly. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } } }, "ServiceName" : "PROD - VPMA Internal DB Daily Backup", "ServicePriority" : "3", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "JobRunsDeviationsTolerance" : "3", "CreatedBy" : "ctmem", "RunAs" : "DUMMYUSR", "Application" : "VPMA", "CompleteBy" : { "Time" : "05:00", "Days" : "0" }, "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Delete-OK" } ] } }, "VPMA_DB_Backup_Start" : { "Type" : "Job:Dummy", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "ctmem", "RunAs" : "DUMMYUSR", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] } }, "VPMA_DB_Backup_InvoiceExpenseAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_expense_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpenseAu-OK" } ] } }, "VPMA_DB_Backup_DashboardDexiaEodDaily" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_dexia_eod_daily\\n;", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardDexiaEodDaily-OK" } ] } }, "VPMA_DB_Backup_DashboardFerrellgasIncidents" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_ferrellgas_incidents\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardDexiaEodDaily-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasIncidents-OK" } ] } }, "VPMA_DB_Backup_DashboardFerrellgasRequests" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_ferrellgas_requests\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasIncidents-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasRequests-OK" } ] } }, "VPMA_DB_Backup_AdminDB_Tar" : { "Type" : "Job:Command", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "vpmadmin", "Application" : "VPMA", "Command" : "tar -czvf /app/vpmadmin/backup/database/vpma_internal/admindb/VPMA_DB_Backup_AdminDB_%%ODATE..tar /app/vpmadmin/backup/database/vpma_internal/admindb/*.csv", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Project-OK" }, { "Event" : "VPMA_DB_Backup_InvoiceLicenseAu-OK" }, { "Event" : "VPMA_DB_Backup_PaymnetSupplierUs-OK" }, { "Event" : "VPMA_DB_Backup_Loan-OK" }, { "Event" : "VPMA_DB_Backup_StateSalesTax-OK" }, { "Event" : "VPMA_DB_Backup_DashboardFerrellgasRequests-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Tar-OK" } ] } }, "VPMA_DB_Backup_AdminDB_Delete" : { "Type" : "Job:Command", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "vpmadmin", "Application" : "VPMA", "Command" : "rm -f /app/vpmadmin/backup/database/vpma_internal/admindb/VPMA_DB_Backup_*", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_FTP-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Delete-OK" } ] } }, "VPMA_DB_Backup_AdminDB_FTP" : { "Type" : "Job:FileTransfer", "ConnectionProfileSrc" : "VPMADMIN_LOCAL", "ConnectionProfileDest" : "VPMA_BACKUP", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMADMIN_LOCAL+VPMA_BACKUP", "Application" : "VPMA", "Variables" : [ { "FTP-LOSTYPE" : "Unix" }, { "FTP-CONNTYPE1" : "LOCAL" }, { "FTP-LHOST" : "Local" }, { "FTP-LUSER" : "vpmadmin" }, { "FTP-ROSTYPE" : "Unix" }, { "FTP-CONNTYPE2" : "FTP-SSL" }, { "FTP-RHOST" : "vpmagroup.com" }, { "FTP-RUSER" : "vpmadmin_backup@vpmagroup.com" }, { "FTP-TIMELIMIT_UNIT1" : "1" }, { "FTP-CM_VER" : "9.0.18" } ], "FileTransfers" : [ { "ABSTIME" : "0", "VERNUM" : "0", "Dest" : "/vpma_internal/database/", "SRCOPT" : "0", "TransferType" : "Binary", "CASEIFS" : "0", "DSTOPT" : "0", "RECURSIVE" : "0", "TransferOption" : "SrcToDest", "Src" : "/app/vpmadmin/backup/database/vpma_internal/admindb/*.tar", "TIMELIMIT" : "0", "EXCLUDE_WILDCARD" : "0", "NULLFLDS" : "0", "TRIM" : "1", "IF_EXIST" : "0", "UNIQUE" : "0" } ], "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Tar-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_FTP-OK" } ] } }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DATABASE_Backup__EOD-OK" } ] } } }
{ "VPMA_DB_BACKUP" : { "Type" : "Folder", "ControlmServer" : "PRD29", "OrderMethod" : "Manual", "ActiveRetentionPolicy" : "CleanEndedOK", "SubApplication" : "DB_BACKUP", "CreatedBy" : "qd1", "Priority" : "Very Low", "Application" : "VPMA", "When" : { "FromTime" : "0100", "RuleBasedCalendars" : { "Included" : [ "EVERYDAY" ], "EVERYDAY" : { "Type" : "Calendar:RuleBased", "When" : { "DaysRelation" : "OR", "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ] } } } }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "VPMA_DB_ACCESS" : { "Type" : "Resource:Lock", "LockType" : "Exclusive" }, "VPMA_DB_Backup_Customer" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_customer\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Customer-OK" } ] } }, "VPMA_DB_Backup_Expense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_expense\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Timesheet-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Expense-OK" } ] } }, "VPMA_DB_Backup_InvoiceExpense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_expense\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpense-OK" } ] } }, "VPMA_DB_Backup_InvoiceLabour" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_labour\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpenseAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabour-OK" } ] } }, "VPMA_DB_Backup_InvoiceLicense" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_license\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabourAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicense-OK" } ] } }, "VPMA_DB_Backup_Loan" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_loan\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Expense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Loan-OK" } ] } }, "VPMA_DB_Backup_Project" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_project\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Customer-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Project-OK" } ] } }, "VPMA_DB_Backup_Timesheet" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_timesheet\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Staff-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Timesheet-OK" } ] } }, "VPMA_DB_Backup_InvoiceLabourAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_labour_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabour-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLabourAu-OK" } ] } }, "VPMA_DB_Backup_InvoiceLicenseAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_license_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceLicenseAu-OK" } ] } }, "VPMA_DB_Backup_Staff" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_staff\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Staff-OK" } ] } }, "VPMA_DB_Backup_StateSalesTax" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_state_sales_tax\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_StateSalesTax-OK" } ] } }, "VPMA_DB_Backup_PaymnetExpenseUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_expense_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetExpenseUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetPayoutUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_payout_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetExpenseUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetPayoutUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetSalaryUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_salary_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryAu-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryUs-OK" } ] } }, "VPMA_DB_Backup_PaymnetSalaryAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_salary_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetPayoutUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryAu-OK" } ] } }, "VPMA_DB_Backup_PaymnetSupplierUs" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_payment_supplier_us\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSalaryUs-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_PaymnetSupplierUs-OK" } ] } }, "VPMA_DB_Backup_BIM" : { "Type" : "Job:SLAManagement", "ServiceActions" : { "If:SLA:JobFailureOnServicePath_0" : { "Type" : "If:SLA:JobFailureOnServicePath", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains failed job(s). The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:ServiceIsLate_1" : { "Type" : "If:SLA:ServiceIsLate", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "Service %%SERVICE_NAME is running late. The service deadline is %%SERVICE_DUE_TIME but it is estimated to complete at %%SERVICE_EXPECTED_END_TIME. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:JobRanTooLong_2" : { "Type" : "If:SLA:JobRanTooLong", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains a job(s) that ran too long. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } }, "If:SLA:JobFinishedTooQuickly_3" : { "Type" : "If:SLA:JobFinishedTooQuickly", "Action:SLA:Notify_0" : { "Type" : "Action:SLA:Notify", "Severity" : "Regular", "Message" : "The service %%SERVICE_NAME contains a job(s) that ended too quickly. The following job(s) are problematic: %%PROBLEMATIC_JOBS." } } }, "ServiceName" : "PROD - VPMA Internal DB Daily Backup", "ServicePriority" : "3", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "JobRunsDeviationsTolerance" : "3", "CreatedBy" : "ctmem", "RunAs" : "DUMMYUSR", "Application" : "VPMA", "CompleteBy" : { "Time" : "05:00", "Days" : "0" }, "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Delete-OK" } ] } }, "VPMA_DB_Backup_Start" : { "Type" : "Job:Dummy", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "ctmem", "RunAs" : "DUMMYUSR", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] } }, "VPMA_DB_Backup_InvoiceExpenseAu" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.vpma_invoice_expense_au\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpense-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_InvoiceExpenseAu-OK" } ] } }, "VPMA_DB_Backup_DashboardDexiaEodDaily" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_dexia_eod_daily\\n;", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Start-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardDexiaEodDaily-OK" } ] } }, "VPMA_DB_Backup_DashboardFerrellgasIncidents" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_ferrellgas_incidents\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardDexiaEodDaily-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasIncidents-OK" } ] } }, "VPMA_DB_Backup_DashboardFerrellgasRequests" : { "Type" : "Job:Database:EmbeddedQuery", "Query" : "select\\n*\\nfrom\\nvpma29_vpma_internal.dashboard_ferrellgas_requests\\n;", "OutputExecutionLog" : "N", "OutputSQLOutput" : "Y", "SQLOutputFormat" : "CSV", "ConnectionProfile" : "VPMA_INTERNAL", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMA_INTERNAL", "Application" : "VPMA", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "Output" : { "Destination" : "/app/vpmadmin/backup/database/vpma_internal/admindb/%%JOBNAME._%%DATE..csv", "Operation" : "Copy" }, "Notify:NotOK_0" : { "Type" : "Notify:NotOK", "Urgency" : "Urgent", "Destination" : "EVENT_TRIGGER", "Message" : "%%JOBNAME|%%JOBNAME.%20failed%20with%20reutrn%20code%20%%COMPSTAT.." }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasIncidents-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_DashboardFerrellgasRequests-OK" } ] } }, "VPMA_DB_Backup_AdminDB_Tar" : { "Type" : "Job:Command", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "vpmadmin", "Application" : "VPMA", "Command" : "tar -czvf /app/vpmadmin/backup/database/vpma_internal/admindb/VPMA_DB_Backup_AdminDB_%%ODATE..tar /app/vpmadmin/backup/database/vpma_internal/admindb/*.csv", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_Project-OK" }, { "Event" : "VPMA_DB_Backup_InvoiceLicenseAu-OK" }, { "Event" : "VPMA_DB_Backup_PaymnetSupplierUs-OK" }, { "Event" : "VPMA_DB_Backup_Loan-OK" }, { "Event" : "VPMA_DB_Backup_StateSalesTax-OK" }, { "Event" : "VPMA_DB_Backup_DashboardFerrellgasRequests-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Tar-OK" } ] } }, "VPMA_DB_Backup_AdminDB_Delete" : { "Type" : "Job:Command", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "vpmadmin", "Application" : "VPMA", "Command" : "rm -f /app/vpmadmin/backup/database/vpma_internal/admindb/VPMA_DB_Backup_*", "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR", "RuleBasedCalendars" : { "Relationship" : "AND", "Included" : [ "EVERYDAY" ] } }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_FTP-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Delete-OK" } ] } }, "VPMA_DB_Backup_AdminDB_FTP" : { "Type" : "Job:FileTransfer", "ConnectionProfileSrc" : "VPMADMIN_LOCAL", "ConnectionProfileDest" : "VPMA_BACKUP", "SubApplication" : "DB_BACKUP", "Priority" : "Very Low", "CreatedBy" : "qd1", "RunAs" : "VPMADMIN_LOCAL+VPMA_BACKUP", "Application" : "VPMA", "Variables" : [ { "FTP-LOSTYPE" : "Unix" }, { "FTP-CONNTYPE1" : "LOCAL" }, { "FTP-LHOST" : "Local" }, { "FTP-LUSER" : "vpmadmin" }, { "FTP-ROSTYPE" : "Unix" }, { "FTP-CONNTYPE2" : "FTP-SSL" }, { "FTP-RHOST" : "vpmagroup.com" }, { "FTP-RUSER" : "vpmadmin_backup@vpmagroup.com" }, { "FTP-TIMELIMIT_UNIT1" : "1" }, { "FTP-CM_VER" : "9.0.18" } ], "FileTransfers" : [ { "ABSTIME" : "0", "VERNUM" : "0", "Dest" : "/vpma_internal/database/", "SRCOPT" : "0", "TransferType" : "Binary", "CASEIFS" : "0", "DSTOPT" : "0", "RECURSIVE" : "0", "TransferOption" : "SrcToDest", "Src" : "/app/vpmadmin/backup/database/vpma_internal/admindb/*.tar", "TIMELIMIT" : "0", "EXCLUDE_WILDCARD" : "0", "NULLFLDS" : "0", "TRIM" : "1", "IF_EXIST" : "0", "UNIQUE" : "0" } ], "When" : { "WeekDays" : [ "NONE" ], "MonthDays" : [ "ALL" ], "DaysRelation" : "OR" }, "eventsToWaitFor" : { "Type" : "WaitForEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_Tar-OK" } ] }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DB_Backup_AdminDB_FTP-OK" } ] } }, "eventsToAdd" : { "Type" : "AddEvents", "Events" : [ { "Event" : "VPMA_DATABASE_Backup__EOD-OK" } ] } } }
